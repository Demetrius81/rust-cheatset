# üìö Rust ‚Äî –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ `Vec` –∏ `Iterator`

---

[–ü–æ–ª–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ Rust ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Ñ—É–Ω–∫—Ü–∏–∏](README.md)

[–í–æ–ø—Ä–æ—Å—ã –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é Rust —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ 2023](questions_2023.md)

[Actix-web ‚Äî —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è](actix_web_cheatset.md)

[Diesel ORM ‚Äî –ø–æ–ª–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ (Rust)](diesel.md)

---

## 1. –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞

```rust
let v1 = vec![1, 2, 3];
let mut v2: Vec<i32> = Vec::new();
v2.push(4);
```

---

## 2. –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã `Vec`

| –ú–µ—Ç–æ–¥      | –û–ø–∏—Å–∞–Ω–∏–µ                  | –ü—Ä–∏–º–µ—Ä           |
| ---------- | ------------------------- | ---------------- |
| `push`     | –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü  | `v.push(10)`     |
| `pop`      | –£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç | `v.pop()`        |
| `len`      | –î–ª–∏–Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞             | `v.len()`        |
| `is_empty` | –ü—É—Å—Ç–æ–π –ª–∏ –≤–µ–∫—Ç–æ—Ä          | `v.is_empty()`   |
| `contains` | –°–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —ç–ª–µ–º–µ–Ω—Ç       | `v.contains(&3)` |
| `remove`   | –£–¥–∞–ª–∏—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É        | `v.remove(1)`    |
| `clear`    | –û—á–∏—Å—Ç–∏—Ç—å                  | `v.clear()`      |
| `truncate` | –û–±—Ä–µ–∑–∞—Ç—å                  | `v.truncate(3)`  |
| `resize`   | –£–≤–µ–ª–∏—á–∏—Ç—å —Å –∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º  | `v.resize(5, 0)` |
| `swap`     | –ü–æ–º–µ–Ω—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ—Å—Ç–∞–º–∏ | `v.swap(0, 1)`   |

---

## 3. –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º

```rust
let first = v[0];
if let Some(x) = v.get(0) {
    println!("{}", x);
}
```

---

## 4. –°—Ä–µ–∑—ã

```rust
let slice = &v[1..3];
```

---

## 5. –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã (`iter`, `iter_mut`, `into_iter`)

| –ú–µ—Ç–æ–¥          | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å  |
| -------------- | ---------- | ------------------- |
| `.iter()`      | `&T`       | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ       |
| `.iter_mut()`  | `&mut T`   | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ |
| `.into_iter()` | `T`        | –ü–µ—Ä–µ–¥–∞—á–∞ –≤–ª–∞–¥–µ–Ω–∏—è   |

---

## 6. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–µ—Ç–æ–¥–æ–≤ `Iterator`

### 6.1 –ê–¥–∞–ø—Ç–µ—Ä—ã (–ª–µ–Ω–∏–≤—ã–µ)

| –ú–µ—Ç–æ–¥        | –û–ø–∏—Å–∞–Ω–∏–µ                | –ü—Ä–∏–º–µ—Ä                                                |   |           |
| ------------ | ----------------------- | ----------------------------------------------------- | - | --------- |
| `map`        | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã    | \`(1..4).map(                                         | x | x\*2)\`   |
| `filter`     | –û—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ —É—Å–ª–æ–≤–∏—é    | \`(1..5).filter(                                      | x | x%2==0)\` |
| `filter_map` | –§–∏–ª—å—Ç—Ä + map            | \`vec!\[Some(1), None].into\_iter().filter\_map(      | x | x)\`      |
| `enumerate`  | –ò–Ω–¥–µ–∫—Å + –∑–Ω–∞—á–µ–Ω–∏–µ       | `v.iter().enumerate()`                                |   |           |
| `take`       | –ü–µ—Ä–≤—ã–µ N                | `(1..).take(3)`                                       |   |           |
| `skip`       | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å N            | `(1..).skip(2)`                                       |   |           |
| `chain`      | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å              | `(1..3).chain(4..6)`                                  |   |           |
| `zip`        | –°—à–∏—Ç—å –¥–≤–∞ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞     | `(1..4).zip(4..7)`                                    |   |           |
| `rev`        | –†–∞–∑–≤–æ—Ä–æ—Ç                | `v.iter().rev()`                                      |   |           |
| `step_by`    | –®–∞–≥                     | `(0..10).step_by(2)`                                  |   |           |
| `flat_map`   | –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ | \`vec!\[vec!\[1,2], vec!\[3]].into\_iter().flat\_map( | x | x)\`      |

---

### 6.2 –ü–æ—Ç—Ä–µ–±–ª—è—é—â–∏–µ (–∫–æ–Ω–µ—á–Ω—ã–µ)

| –ú–µ—Ç–æ–¥       | –û–ø–∏—Å–∞–Ω–∏–µ               | –ü—Ä–∏–º–µ—Ä                       |     |                      |
| ----------- | ---------------------- | ---------------------------- | --- | -------------------- |
| `for_each`  | –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ     | \`(1..4).for\_each(          | x   | println!("{}", x))\` |
| `sum`       | –°—É–º–º–∞                  | `(1..4).sum::<i32>()`        |     |                      |
| `product`   | –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ           | `(1..4).product::<i32>()`    |     |                      |
| `count`     | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ             | `(1..4).count()`             |     |                      |
| `collect`   | –°–æ–±—Ä–∞—Ç—å –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é    | `(1..4).collect::<Vec<_>>()` |     |                      |
| `max`       | –ú–∞–∫—Å–∏–º—É–º               | `(1..4).max()`               |     |                      |
| `min`       | –ú–∏–Ω–∏–º—É–º                | `(1..4).min()`               |     |                      |
| `reduce`    | –°–≤—ë—Ä—Ç–∫–∞ –±–µ–∑ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ | \`(1..4).reduce(             | a,b | a+b)\`               |
| `fold`      | –°–≤—ë—Ä—Ç–∫–∞ —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏   | \`(1..4).fold(0,             | a,b | a+b)\`               |
| `find`      | –ü–µ—Ä–≤—ã–π –ø–æ —É—Å–ª–æ–≤–∏—é      | \`(1..10).find(              | x   | x%3==0)\`            |
| `position`  | –ò–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ         | \`(1..10).position(          | x   | x>5)\`               |
| `rposition` | –ò–Ω–¥–µ–∫—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ      | \`(1..10).rposition(         | x   | x>5)\`               |
| `any`       | –ï—Å—Ç—å –ª–∏ —ç–ª–µ–º–µ–Ω—Ç        | \`(1..4).any(                | x   | x==2)\`              |
| `all`       | –í—Å–µ –ª–∏ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç   | \`(1..4).all(                | x   | x>0)\`               |

---

### 6.3 –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã

| –ú–µ—Ç–æ–¥      | –û–ø–∏—Å–∞–Ω–∏–µ          | –ü—Ä–∏–º–µ—Ä                                       |   |                      |
| ---------- | ----------------- | -------------------------------------------- | - | -------------------- |
| `peekable` | –ó–∞–≥–ª—è–Ω—É—Ç—å –≤–ø–µ—Ä—ë–¥  | `let mut it = (1..4).peekable(); it.peek();` |   |                      |
| `cycle`    | –ü–æ–≤—Ç–æ—Ä –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ | `(1..3).cycle()`                             |   |                      |
| `inspect`  | –û—Ç–ª–∞–¥–∫–∞           | \`(1..4).inspect(                            | x | println!("{}", x))\` |

---

## 7. –¶–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤

```rust
let sum: i32 = (1..=10)
    .filter(|x| x % 2 == 0)
    .map(|x| x * x)
    .sum();
```

---

## 8. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞

```rust
struct Counter { count: u32 }
impl Counter {
    fn new() -> Self { Counter { count: 0 } }
}
impl Iterator for Counter {
    type Item = u32;
    fn next(&mut self) -> Option<Self::Item> {
        self.count += 1;
        if self.count <= 5 { Some(self.count) } else { None }
    }
}
```

---

## 9. Iterator + –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã

```rust
let v: Vec<_> = (1..5).collect();
let set: std::collections::HashSet<_> = (1..5).collect();
let s: String = ["R", "u", "s", "t"].concat();
```

---

## 10. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏

```rust
// –ù–∞–π—Ç–∏ –≤—Ç–æ—Ä–æ–π –ø–æ –≤–µ–ª–∏—á–∏–Ω–µ —ç–ª–µ–º–µ–Ω—Ç
let second = {
    let mut v = vec![5, 1, 3, 4];
    v.sort();
    v.iter().rev().nth(1)
};

// –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã
let mut v = vec![1, 2, 2, 3];
v.dedup();

// Flatten –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
let mut v: Vec<_> = vec![vec![3, 1], vec![2]].into_iter().flatten().collect();
v.sort();
```

---